<script>
function addParameterToURL(param){
    _url = location.href;
    if ( _url.split('?')[1] ) {
        var prevParams = _url.split('?')[1].split('&');
        if ( !prevParams ) prevParams = [_url.split('?')[1]];
        _url = _url.split('?')[0];
        var first = true;
        var key = param.split('=')[0];
        var change = false;
        for ( var prevParam in prevParams ) {
            prevParam = prevParams[prevParam];
            curKey = prevParam.split('=')[0];
            if ( curKey == key ) {
                _url += ((first?'?':'&')+param);
                change = true;
            } else {
                _url += ((first?'?':'&')+prevParam);
            }
            first = false;
        }
        if ( !change ) _url += '&'+param;
    } else {
        _url += '?'+param;
    }
    return _url;
}
function delParameterToURL(param) {
    _url = location.href;
    if ( _url.split('?')[1] ) {
        var prevParams = _url.split('?')[1].split('&');
        if ( !prevParams ) prevParams = [_url.split('?')[1]];
        _url = _url.split('?')[0];
        var first = true;
        var key = param.split('=')[0];
        var change = false;
        for ( var prevParam in prevParams ) {
            prevParam = prevParams[prevParam];
            curKey = prevParam.split('=')[0];
            if ( curKey == key ) {
            } else {
                _url += ((first?'?':'&')+prevParam);
            first = false;
            }
        }
    }
    return _url;
}
function redirect(url) {
    window.location.href=url;
}
</script>
<style>
.nav-stacked li {
    border-bottom:0px;
}
.panel {
    border: 0px;
}
.panel-title {
    font-size: 14px;
    font-weight: bold;
}
.panel-default > .panel-heading {
    background:#ffffff;
    border-top:0px;
    border-bottom:0px;
}
.nav-stacked > li a {
    padding-top: 0px;
    padding-bottom: 0px;
    padding-left: 0px;
}
</style>
<div class="panel panel-default">
    <div class="panel-heading" style="padding:0px 0px 16px 0px;">
        <h4 class="panel-title">
            {% if ret.shop_category_id != 0 %}
            <a data-toggle="collapse" href="#collapseCategory-space" class="collapseWill pressed">
            {% else %}
            <a data-toggle="collapse" href="#collapseCategory-space" class="collapseWill">
            {% endif %}
                가구
                <span class="pull-right"><i class="fa fa-caret-right"></i></span>
            </a>
        </h4>
    </div>
    {% if ret.shop_category_id != 0 %}
    <div id="collapseCategory-space" class="panel-collapse collapse ">
    {% else %}
    <div id="collapseCategory-space" class="panel-collapse collapse in">
    {% endif %}
        <div class="panel-body">
            <ul class="nav nav-pills nav-stacked tree">
                {% for category in ret.category %}
                <li>
                <a href="/company_portfolio/{{ret.user.id}}/shop/{{ category.category_id }}">
                    {{ category.category_name }}
                </a>
                </li>
                {% endfor %}
            </ul>
        </div>
    </div>
    <hr style="margin:0px;padding:0px;">
    <div class="panel-heading" style="padding:16px 0px 16px 0px;">
        <h4 class="panel-title">
            {% if ret.style_category_id %}
            <a data-toggle="collapse" href="#collapseCategory-style" class="collapseWill pressed">
            {% else %}
            <a data-toggle="collapse" href="#collapseCategory-style" class="collapseWill ">
            {% endif %}
                스타일
                <span class="pull-right"><i class="fa fa-caret-right"></i></span>
            </a>
        </h4>
    </div>
    {% if ret.style_category_id %}
    <div id="collapseCategory-style" class="panel-collapse collapse">
    {% else %}
    <div id="collapseCategory-style" class="panel-collapse collapse in">
    {% endif %}
        <div class="panel-body">
            <ul class="nav nav-pills nav-stacked tree">
                <li><a onclick="redirect(addParameterToURL('style_category_id=2'));"> 모던 </a></li>
                <li><a onclick="redirect(addParameterToURL('style_category_id=3'));"> 북유럽</a></li>
                <li><a onclick="redirect(addParameterToURL('style_category_id=4'));"> 빈티지</a></li>
                <li><a onclick="redirect(addParameterToURL('style_category_id=5'));"> 내츄럴</a></li>
                <li><a onclick="redirect(addParameterToURL('style_category_id=6'));"> 프로방스</a></li>
                <li><a onclick="redirect(addParameterToURL('style_category_id=7'));"> 클래식+앤틱</a></li>
                <li><a onclick="redirect(addParameterToURL('style_category_id=8'));"> 오리엔탈</a></li>
                <li><a onclick="redirect(addParameterToURL('style_category_id=9'));"> 유니크</a></li>
                <li><a onclick="redirect(addParameterToURL('style_category_id=10'));"> 기타</a></li>
            </ul>
        </div>
    </div>
    <hr style="margin:0px;padding:0px;">

    <div class="panel-heading" style="padding:16px 0px 16px 0px;">
        <h4 class="panel-title">
            {% if ret.price_id %}
            <a data-toggle="collapse" href="#collapseCategory-price" class="collapseWill pressed">
            {% else %}
            <a data-toggle="collapse" href="#collapseCategory-price" class="collapseWill">
            {% endif %}
                가격
                <span class="pull-right"><i class="fa fa-caret-right"></i></span>
            </a>
        </h4>
    </div>
    {% if ret.price_id %}
    <div id="collapseCategory-price" class="panel-collapse collapse ">
    {% else %}
    <div id="collapseCategory-price" class="panel-collapse collapse in">
    {% endif %}
        <div class="panel-body">
            <ul class="nav nav-pills nav-stacked tree">
                <li><a onclick="redirect(addParameterToURL('price_id=1'));"> 5만원 미만 </a></li>
                <li><a onclick="redirect(addParameterToURL('price_id=2'));"> 5만원 ~ 10만원</a></li>
                <li><a onclick="redirect(addParameterToURL('price_id=3'));"> 10만원~ 20만원</a></li>
                <li><a onclick="redirect(addParameterToURL('price_id=4'));"> 20만원~ 50만원</a></li>
                <li><a onclick="redirect(addParameterToURL('price_id=5'));"> 50만원~ 100만원</a></li>
                <li><a onclick="redirect(addParameterToURL('price_id=6'));"> 100만원 이상</a></li>
            </ul>
        </div>
    </div>
</div>
