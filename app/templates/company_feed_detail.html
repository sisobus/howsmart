<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="{{  url_for('static',filename='bootstrap/css/bootstrap.css') }}" />
    <link rel="stylesheet" href="{{  url_for('static',filename='css/style_feed_detail.css') }}" />
    <link rel="stylesheet" href="{{  url_for('static',filename='css/style-add-20151122.css') }}" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js">
</script>
    <script>
        paceOptions = {
            elements: true
        };
        function go() {
            var image_width = $('#uploadImagePreview').width();
            var image_height = $('#uploadImagePreview').height();
            var image_left = $('#uploadImagePreview').offset().left;
            var image_top = $('#uploadImagePreview').offset().top;
            var x = 0.6;
            var y = 0.37;
            {% if ret.feed.id == 288 %}
                x = 0.6;
                y = 0.25;
            {% endif %}
            {% if ret.feed.id == 289 %}
                x = 0.3;
                y = 0.3;
            {% endif %}
            {% if ret.feed.id == 290 %}
                x = 0.25;
                y = 0.3;
            {% endif %}
            {% if ret.feed.id == 253 %}
                x = 0.9;
                y = 0.45;
            {% endif %}
            $('#tagging-container').css("left",image_left+image_width*(x)).css("top",image_height*(y)+image_top).show();
            {% if ret.feed.id == 253 %}
                x = 0.28; y = 0.7;
            $('#tagging-container1').css("left",image_left+image_width*(x)).css("top",image_height*(y)+image_top).show();
            {% endif %}
            {% if ret.feed.id == 252 %}
                x = 0.7;y = 0.7;
            $('#tagging-container').css("left",image_left+image_width*(x)).css("top",image_height*(y)+image_top).show();

                x = 0.9;y = 0.8;
            $('#tagging-container1').css("left",image_left+image_width*(x)).css("top",image_height*(y)+image_top).show();

                x = 0.36;y = 0.6;
            $('#tagging-container2').css("left",image_left+image_width*(x)).css("top",image_height*(y)+image_top).show();

                x = 0.3;y = 0.7;
            $('#tagging-container3').css("left",image_left+image_width*(x)).css("top",image_height*(y)+image_top).show();

                x = 0.9;y = 0.8;
            $('#tagging-container4').css("left",image_left+image_width*(x)).css("top",image_height*(y)+image_top).show();
            {% endif %}
        }
        $(document).ready(function() {
            go();
                })
        $(window).resize(function() {
            go();
        })
    </script>
    <style type="text/css">

        body {
            overflow: hidden;
            margin: 0;
            padding: 0;
            background: #f5f5f5;
        }
        #image-container {
            position: absolute;
            width: 70%;
            height: 100%;
            left: 0;
            padding: 0;
            margin: 5px 5px 5px 5px;
            background: #f5f5f5;
            display: table;
        }
        #image-real-container {
            display: table-cell;
            width: 100%;
            margin: 0;
            vertical-align: middle;
        }
        #content-container {
            position: absolute;
            width: 30%;
            right: 0;
            height: 100%;
            padding: 0;
            margin: 0;
            background: #f5f5f5;

        }
        #content-form-container {
            height: inherit;
            overflow-y: scroll;
            padding-bottom: 45px;
            -ms-overflow-style: none;
            border-color: #DDDDDD;
            border-style: solid;
            border-width: 1px 1px 1px 1px;

            margin: 10px 10px 10px 10px;
            background: #ffffff;
        }
        #content-form-container::-webkit-scrollbar {
            display: none;
        }
        #content-form-body {
            white-space: normal;
            word-break: break-all;
        }

        form input#title,
        form textarea#body,
        form input#uploadImageContainer {
            border-color: #DDDDDD;
            -webkit-border-radius: 3px 0 0 3px;
            -moz-border-radius: 3px 0 0 3px;
            border-radius: 3px 0 0 3px;
            border-style: solid;
            border-width: 1px 1px 1px 1px;
            color: #888888;
            font-size: 14px;
            height: 36px;
            width: 100%;
        }
        form input#title {
            margin-top: 100px;
        }
        form textarea#body {
            height: 300px;
        }
        form input#uploadImageContainer {
            margin-bottom: 10px;
        }
        form input#title:hover,
        form textarea#body:hover,
        form input#uploadImageContainer:hover {
            border-color: #EEEEEE;
            outline: 0 none;
        }
        form input#title:focus,
        form textarea#body:focus,
        form input#uploadImageContainer:focus {
            border-color: #EEEEEE;
            outline: 0 none;
        }
        img#uploadImagePreview {
            max-width:100%;
            max-height:100%;
            position: absolute;
            display: block;
            margin-left: auto;
            margin-right: auto;
            top: 50%;
            left: 50%;
            transform: translate(-50%,-50%);
        }

        form input#body {
            width: 100%;
            border: 1px solid #dddddd;
        }
        form input#body:hover {
            border-color: #EEEEEE;
            outline: 0 none;
        }
        form input#body:focus {
            border-color: #EEEEEE;
            outline: 0 none;
        }
        #comment-container {
            margin-left: 10px;
        }

        .bar {
    opacity: 0;
    background: rgba(255,255,255,.0);
    position: absolute;
    bottom: 0;
    width: 100%;
    height: 30px;
    line-height: 30px;
    transition: opacity 1s;
}

div#image-container:hover .bar {
    opacity: 1;
}

#image-container a {
    position: absolute;
}

#image-container a:nth-of-type(1) {
    left: 0;
}

#image-container a:nth-of-type(2) {
    right: 0;
}
#other-image-container {
    overflow: auto;
}
#tagging-container {
    display: block;
    position: absolute;
    z-index: 1000;
}
/*
#content-form-header {
    z-index: 3;
}
#content-form-header a {
    position: absolute;
}
#content-form-header a:nth-of-type(1) {
    left: 15px;
}
#content-form-header a:nth-of-type(2){
    right: 15px;
}
        #other-image-container {
            height: 50px;
        }
        */


hr.photos {
    margin: 10px 10px 10px 10px;
    color: #f5f5f5; border: thin solid #f5f5f5;
}
	</style>

    <script src="{{  url_for('static',filename='js/pace.min.js') }} "></script>
</head>
<body>
<div id="container" >
    <div id="content-container">
        <div id="content-form-container">
            <div id="content-form-header" style="height:50px;border-bottom:1px solid #dddddd;">
                <div class="pull-left">
                    <div style="margin-left: 4px;margin-top:4px;">
                    <a href="/"><img src="{{ url_for('static',filename='img/logo_40.png') }}"></a>
                </div>
            </div>
            <a href="javascript:window.history.back();">
                <div class="pull-right" style="width:50px; height:50px;border-left:1px solid #dddddd;">
                    <div style="background: url({{ url_for('static',filename='img/icons/remove11.png') }});background-repeat:no-repeat;background-size:cover;background-position:center;height:30px;margin-top:10px;">
                    </div>
                </div>
            </a>
            </div>
            <!--
            <hr class="photos">
            -->
            <div id="content-form-body">
                <div class="content-margin-container">
                    <div style="background-color:#dddddd; border:1px solid #dddddd;height:35px;width:35px;display:table-cell;background-repeat:no-repeat;background-size:cover;background-position:center;border-radius: 17.5px;border-radius:17.5px;-webkit-border-radius:17.5px;-moz-border-radius:17.5px;"></div>
                    <h1 style="padding-bottom:0px;display:table-cell;padding-left:5px;"><a href="/company_portfolio/{{ ret.user.id }}" target="_blank">{{ ret.user.username }}</a></h1>
            </div>
            <hr style="margin:0px 0px 0px 0px;">
                <div class="content-margin-container">
                <h3>{{ ret.feed.title }}</h3>
                <h4>{{ ret.feed.body }}</h4>
                <h5>카테고리: <a href="/photos/{{ ret.feed.feed_category_id }}" target="_blank">{{ ret.feed_category_name }}</a></h5>
                <h5 style="padding-bottom:0px;">주소: </h5>
            </div>
            <hr style="margin:0px 0px 0px 0px;">
            <div class="content-margin-container">
                <h5 style="padding-bottom:0px;"><a href="/project_detail/{{ ret.project.id }}" target="_blank">{{ ret.project.project_name }}</a>의 다른 사진들 </h5>
            </div>
            <div id="other-image-container"> 
                {% for other_feed in ret.other_feeds_in_same_project %}
                    <div class="col-xs-6 col-sm-3" style="height:80px;padding:0px 5px 0px 5px;">
                        <a href="/company_feed_detail/{{ other_feed.feed.id }}" >
                            <img src="{{ url_for('static',filename=other_feed.image_path) }}" style="height:100px;width:100px;max-height:80px;max-width:80px;margin:0px 0px 0px 0px;">
                        </a>
                    </div>
                {% endfor %}
                </div>
                <div class="content-margin-container">
            <br>
                <h5 style="padding-bottom:0px;"><a href="/company_portfolio/{{ ret.user.id }}">{{ ret.user.username }}</a>의 다른 프로젝트 </h5>
            </div>
                <div id="other-image-container" >
                {% for other_project in ret.other_projects %}
                    <div class="col-xs-6 col-sm-3" style="height:80px;padding: 0px 5px 0px 5px;">
                        <a href="/project_detail/{{ other_project.project.id }}" target="_blank">
                            <img src="{{ url_for('static',filename=other_project.image_path) }}" style="height:100px;width:100px;max-height:80px;max-width:80px;">
                        </a>
                    </div>
                {% endfor %}
                </div>
                <div class="content-margin-container">

                    <h5>다른 <a href="/photos/{{ ret.feed.feed_category_id }}">{{ ret.feed_category_name }}</a> 추천 사진 </h5>
                    <div class="feed_like_comment" style="margin-top:10px;margin-left:5px;margin-bottom:10px;">
                        <span class="fa-stack " style="display:table-cell;padding-right:15px;">
                            <i class="fa  fa-circle-thin fa-stack-2x" style="color:#777777;top:0;" > </i>
                            <i class="fa   fa-thumbs-o-up fa-stack-1x" style="color:#777777;top:0;" > </i>
                        </span>
                        <h5 style="vertical-align:middle;display:table-cell;padding-bottom:0px;padding-left:4px;padding-right:8px;"> 0 좋아요</h5>
                        <span class="fa-stack " style="display:table-cell;padding-right:15px;">
                            <i class="fa  fa-circle-thin fa-stack-2x" style="color:#777777;top:0;" > </i>
                            <i class="fa   fa-comment fa-stack-1x" style="color:#777777;top:0;" > </i>
                        </span>
                        <h5 style="vertical-align:middle;display:table-cell;padding-bottom:0px;padding-left:4px;">{{ ret.all_comments | length }} 댓글</h5>
                    </div>
                </div>
            </div>
        {% if session.logged_in %}
        <form action="{{ url_for('company_feed_detail',feed_id=ret.feed.id) }}" method="post">
            {{ commentForm.hidden_tag() }}
            <div class="form-group login-username">
                <div>
                    {% for message in commentForm.body.errors %}
                        <div class="flash">{{ message }}</div>
                    {% endfor %}
                    {{ commentForm.body(placeholder="의견을 남겨주세요 !",autofocus=true) }}
                </div>
                <input name="submit" class="btn btn-block btn-lg btn-primary" value="댓글 달기 " type="submit">
            </div>
        </form>
        {% endif %}
        <div id="comment-container">
        {% for comment in ret.all_comments %}
            {{ comment.body }} | {{ comment.created_at }}
            <br>
        {% endfor %}
        </div>
            </div>
        </div>
    </div>
    <div id="image-container">
        <div id="image-real-container">
            <img id="uploadImagePreview" src="{{ url_for('static',filename=ret.image_path) }}" class="img-responsive "/>
            {% if ret.feed.id == 287 or ret.feed.id == 288 or
            ret.feed.id == 289 or ret.feed.id == 290 or ret.feed.id == 273 or 
            ret.feed.id == 274  or ret.feed.id == 253 %}
            <div id="tagging-container" style="left:1px;top:1px;">
                <i class="fa fa-tag fa-2x" style="color:#92CFCD;"></i>
            </div>
            {% endif %}
            {% if ret.feed.id == 253 %}
            <div id="tagging-container1" style="left:1px;top:1px;display:block;position:absolute;z-index:1000;">
                <i class="fa fa-tag fa-2x" style="color:#92CFCD;"></i>
            </div>
            {% endif %}
            {% if ret.feed.id == 252 %}
            <div id="tagging-container" style="left:1px;top:1px;display:block;position:absolute;z-index:1000;">
                <i class="fa fa-tag fa-2x" style="color:#92CFCD;"></i>
            </div>
            <div id="tagging-container1" style="left:1px;top:1px;display:block;position:absolute;z-index:1000;">
                <i class="fa fa-tag fa-2x" style="color:#92CFCD;"></i>
            </div>
            <div id="tagging-container2" style="left:1px;top:1px;display:block;position:absolute;z-index:1000;">
                <i class="fa fa-tag fa-2x" style="color:#92CFCD;"></i>
            </div>
            <div id="tagging-container3" style="left:1px;top:1px;display:block;position:absolute;z-index:1000;">
                <i class="fa fa-tag fa-2x" style="color:#92CFCD;"></i>
            </div>
            <div id="tagging-container4" style="left:1px;top:1px;display:block;position:absolute;z-index:1000;">
                <i class="fa fa-tag fa-2x" style="color:#92CFCD;"></i>
            </div>
            {% endif %}
        </div>
    </div>
</div>




<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js">
</script>
<script src="{{  url_for('static',filename='bootstrap/js/bootstrap.min.js') }}"></script>

<!-- include jqueryCycle plugin -->
<script src="{{  url_for('static',filename='js/jquery.cycle2.min.js') }}"></script>
<!-- include easing plugin -->
<script src="{{  url_for('static',filename='js/jquery.easing.1.3.js') }}"></script>

<!-- include  parallax plugin -->
<script src="{{  url_for('static',filename='js/jquery/parallax-1.1.js') }}"></script>

<!-- optionally include helper plugins -->
<script src="{{  url_for('static',filename='js/helper-plugins/jquery.mousewheel.min.js') }}"></script>

<!-- include mCustomScrollbar plugin //Custom Scrollbar  -->

<script src="{{  url_for('static',filename='js/jquery.mCustomScrollbar.js') }}"></script>

<!-- include checkRadio plugin //Custom check & Radio  -->
<script src="{{  url_for('static',filename='js/ion-checkRadio/ion.checkRadio.min.js') }}"></script>

<!-- include grid.js // for equal Div height  -->
<script src="{{  url_for('static',filename='js/grids.js') }}"></script>

<!-- include carousel slider plugin  -->
<script src="{{  url_for('static',filename='js/owl.carousel.min.js') }}"></script>

<!-- jQuery minimalect // custom select   -->
<script src="{{  url_for('static',filename='js/jquery.minimalect.min.js') }}"></script>

<!-- include touchspin.js // touch friendly input spinner component   -->
<script src="{{  url_for('static',filename='js/bootstrap.touchspin.js') }}"></script>

<!-- include custom script for only homepage  -->
<script src="{{  url_for('static',filename='js/home.js') }}"></script>
<!-- include custom script for site  -->
<script src="{{  url_for('static',filename='js/script.js') }}"></script>
<script>
function readURL(input){
    if ( input.files && input.files[0] ) {
        var reader = new FileReader();
        reader.onload = function(e) {
            $('#uploadImagePreview').attr('src', e.target.result);
        }
        reader.readAsDataURL(input.files[0]);
    }
}

$('#uploadImageContainer').change(function() {
    readURL(this);
});

</script>
</body>
</html>
